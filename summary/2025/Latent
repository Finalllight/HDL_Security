# LATENT论文总结
## 一、论文基本信息
- 标题：LATENT: LLM-Augmented Trojan Insertion and Evaluation Framework for Analog Netlist Topologies
- 作者：Jayeeta Chaudhuri、Arjun Chaudhuri、Krishnendu Chakrabarty（亚利桑那州立大学电气、计算机与能源工程学院，美国）
- 发表状态：arXiv预印本（2025年5月）
- 研究方向：模拟/混合信号（A/MS）电路硬件木马生成、LLM智能代理、隐蔽性木马设计与评估

## 二、摘要
模拟/混合信号电路广泛应用于安全关键领域，但供应链全球化使其面临模拟硬件木马威胁。与数字木马相比，模拟木马研究严重不足，现有实例缺乏多样性和隐蔽性，限制了检测技术的发展。为此提出LATENT框架，首个基于LLM驱动的模拟木马生成与评估框架。该框架以LLM为自主代理，结合迭代反馈机制，根据检测模型的输出智能选择木马组件和插入点，生成适配目标电路的隐蔽木马。实验表明，生成的木马平均激活范围仅15.74%（多数工作电压下休眠），激活后性能下降11.3%，且能有效逃避现有检测工具。

## 三、研究背景
- 模拟/混合信号电路是汽车、航空航天、医疗等安全关键领域的核心，但非线性行为使其木马设计和检测更具挑战性。
- 现有模拟木马实例少、结构单一（多为电容或晶体管型），隐蔽性差，易被电流传感、水印等方法检测。
- 数字木马的LLM生成技术已较为成熟，但模拟领域因电路特性特殊，尚无自动化、多样化的木马生成工具。
- 检测技术的发展依赖多样化的攻击样本，而现有模拟木马数据集匮乏，导致防御机制难以全面验证。

## 四、研究动机
- 模拟木马研究滞后，缺乏多样化、隐蔽性强的实例，无法支撑检测技术的 robust 发展。
- 现有模拟木马生成依赖人工设计，效率低、适应性差，难以匹配不同模拟电路的结构与行为特性。
- 需验证LLM作为自主代理，结合检测反馈生成“电路定制化”隐蔽模拟木马的可行性，填补领域空白。

## 五、实验流程
### 1. 核心流程（LLM代理+反馈迭代框架）
1. 初始化与提示构建：向LLM代理输入目标电路网表、检测工具反馈（检测分数、诊断报告）和可用节点，明确木马组件类型（电阻、电容、NMOS、PMOS）及SPICE语法要求。
2. 木马插入与语法校验：LLM代理遵循Thought-Action-Observation（TAO）框架，选择木马组件和插入点，生成修改后的网表；语法检查工具验证组件命名、节点存在性等正确性。
3. 仿真与检测反馈：通过HSPICE仿真获取电路电压/电流行为日志，输入SPICED（LLM基模拟木马检测工具），生成逃避检测分数（\(R_{evade}\)）和诊断报告。
4. 迭代优化：若\(R_{evade}=100\%\)（连续3次）或达到最大木马组件数（\(L_{max}=\alpha N\)，\(N\)为目标电路节点数），终止迭代；否则根据反馈调整组件类型或插入点。

### 2. 关键设置
- 核心LLM：GPT-4o-mini（温度0.3）。
- 实验对象：AMSNet基准电路（20-25节点）、带隙滤波器（265节点）、低压差稳压器（LDO，1655节点）、运算放大器（OPAMP）。
- 验证工具：HSPICE（电路仿真）、SPICED（木马检测）。
- 终止条件：连续3次\(R_{evade}=100\%\)，或木马组件数达到\(\alpha=0.6×N\)。

## 六、实验结果
- 隐蔽性与逃避检测：生成的木马平均逃避检测率94.4%，远优于单轮提示生成的木马（平均逃避率23.7%）。
- 激活与性能影响：平均激活范围15.74%（仅窄电压区间激活），激活后目标电路性能下降11.3%，满足“休眠时无异常、激活后有破坏”的隐蔽攻击需求。
- 资源开销：相比传统模拟木马（A2、DELTA），面积开销平均仅7.4%（A2为19.2%，DELTA为23.9%）；单迭代平均耗时2-3秒，大电路（如LDO）总耗时约157.5秒。
- 迭代效率：多数电路需6-12次迭代即可收敛到稳定逃避检测状态，组件类型涵盖电阻、电容、NMOS/PMOS组合，多样性优于现有方案。

## 七、主要贡献
- 提出首个LLM驱动的模拟木马生成框架，填补模拟领域自动化、多样化木马实例的空白。
- 设计反馈驱动的迭代策略，结合仿真工具和检测工具，确保生成木马的隐蔽性与功能有效性。
- 支持多种木马组件类型（电阻、电容、NMOS、PMOS），适配不同结构的模拟电路，生成“电路定制化”木马。
- 在多类基准电路上验证框架有效性，生成的木马在隐蔽性、性能影响和资源开销上优于传统模拟木马。

## 八、创新点
- LLM自主代理机制：基于TAO框架实现“思考-行动-观察”闭环，无需人工干预即可动态调整木马设计策略。
- 检测反馈融合：将检测工具的输出直接作为优化信号，迭代提升木马逃避检测的能力，而非静态生成。
- 多组件支持与随机化插入：突破现有模拟木马单一组件限制，采用非连续插入方式，降低模式化检测风险。
- 平台无关性：兼容HSPICE等通用仿真工具，可适配GPU/TPU加速，降低大规模应用成本。

## 九、局限性
- 仅支持直流激活的木马，未覆盖交流和小信号激活场景，适用范围有限。
- 木马组件数量上限依赖启发式参数（\(\alpha\)），缺乏自适应优化机制。
- 大电路（如LDO）的token消耗较高，可能受LLM上下文长度限制。
- 未考虑工艺偏差对木马激活效果的影响，实际芯片中的稳定性需进一步验证。

## 十、未来展望
- 扩展木马激活类型：支持交流、小信号及温度/工艺敏感型触发，丰富攻击场景。
- 优化组件参数设计：探索晶体管宽长比（W/L）、电容耦合强度等参数对隐蔽性的影响。
- 提升效率：适配GPU/TPU加速仿真和迭代过程，降低大电路的时间开销。
- 完善验证场景：结合实际工艺偏差模型，验证木马在物理芯片中的有效性与隐蔽性。